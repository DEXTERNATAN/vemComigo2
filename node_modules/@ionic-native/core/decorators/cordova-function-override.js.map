{"version":3,"file":"cordova-function-override.js","sourceRoot":"","sources":["../../../../src/@ionic-native/core/decorators/cordova-function-override.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAY,MAAM,MAAM,CAAC;AAC5C,OAAO,EAAE,iBAAiB,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;AAExD,0BAA0B,SAAc,EAAE,UAAkB;IAC1D,MAAM,CAAC,IAAI,UAAU,CAAC,UAAC,QAAuB;QAC5C,IAAM,iBAAiB,GAAG,iBAAiB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QAEnE,EAAE,CAAC,CAAC,iBAAiB,KAAK,IAAI,CAAC,CAAC,CAAC;YAC/B,IAAM,gBAAc,GAAG,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC;YACvE,gBAAc,CAAC,UAAU,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1D,MAAM,CAAC,cAAM,OAAA,CAAC,gBAAc,CAAC,UAAU,CAAC,GAAG,cAAO,CAAC,CAAC,EAAvC,CAAuC,CAAC;QACvD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,QAAQ,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YAClC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACtB,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,kCACJ,SAAc,EACd,UAAkB,EAClB,IAAkC;IAAlC,qBAAA,EAAA,SAAkC;IAElC,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AACjD,CAAC","sourcesContent":["import { Observable, Observer } from 'rxjs';\nimport { checkAvailability, getPlugin } from './common';\n\nfunction overrideFunction(pluginObj: any, methodName: string): Observable<any> {\n  return new Observable((observer: Observer<any>) => {\n    const availabilityCheck = checkAvailability(pluginObj, methodName);\n\n    if (availabilityCheck === true) {\n      const pluginInstance = getPlugin(pluginObj.constructor.getPluginRef());\n      pluginInstance[methodName] = observer.next.bind(observer);\n      return () => (pluginInstance[methodName] = () => {});\n    } else {\n      observer.error(availabilityCheck);\n      observer.complete();\n    }\n  });\n}\n\nexport function cordovaFunctionOverride(\n  pluginObj: any,\n  methodName: string,\n  args: IArguments | Array<any> = []\n) {\n  return overrideFunction(pluginObj, methodName);\n}\n"]}